(this.webpackJsonpsamurai=this.webpackJsonpsamurai||[]).push([[3],{138:function(e,t,s){"use strict";var o=s(15),n=s.n(o),r=s(23),i=s.n(r),c=s(0),a=s.n(c),u=s(5),l=s.n(u),j=s(40),d=function(e){function t(t){var s;if(s=e.call(this,t)||this,!t._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return s}i()(t,e);var s=t.prototype;return s.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.componentDidUpdate=function(e){this.props.onSubmit!==e.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.render=function(){var e=this.props,t=(e._reduxForm,n()(e,["_reduxForm"]));return a.a.createElement("form",t)},t}(c.Component);d.propTypes={onSubmit:l.a.func.isRequired,_reduxForm:l.a.object},t.a=Object(j.b)(d)},296:function(e,t,s){e.exports={headerImg:"ProfileInfo_headerImg__Tocxj",avatar:"ProfileInfo_avatar__13Otl",contactsItem:"ProfileInfo_contactsItem__3v16m"}},297:function(e,t,s){},298:function(e,t,s){e.exports={item:"post_item__H8Rxh",avatar:"post_avatar__3Vn8a"}},299:function(e,t,s){},303:function(e,t,s){"use strict";s.r(t);var o=s(3),n=s(27),r=s(28),i=s(30),c=s(29),a=s(0),u=s.n(a),l=s(12),j=s(95),d=s(88),p=s(131),b=s(49),h=s(51),f=s(297),O=s.n(f),m=s(298),x=s.n(m),v=s(1),g=function(e){return Object(v.jsxs)("div",{className:x.a.item,children:[Object(v.jsx)("img",{className:x.a.avatar,src:"http://psand.ru/wp-content/uploads/2016/04/Kak-ustanovit-svoy-unikalnyiy-avatar-dlya-vseh-saytov-na-WordPress.png"}),e.message,Object(v.jsx)("div",{children:Object(v.jsx)("span",{children:e.likeCount})})]})},P=Object(h.a)(60),S=Object(p.a)({form:"post"})((function(e){return Object(v.jsx)("div",{children:Object(v.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(v.jsx)("div",{children:Object(v.jsx)(d.a,{placeholder:"newPost",name:"newPost",component:b.b,validate:[h.b,P]})}),Object(v.jsx)("button",{children:"Add post"})]})})})),k=function(e){var t=e.postsData.map((function(e){return Object(v.jsx)(g,{message:e.message,likeCount:e.likeCount})}));return Object(v.jsxs)("div",{children:["My posts",Object(v.jsx)(S,{onSubmit:function(t){var s;console.log(t),s=t.newPost,e.addPost(s)}}),Object(v.jsx)("div",{className:O.a.posts,children:t})]})},I=Object(l.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){var s=j.a;e(s(t))},onPostChange:function(t){var s=j.e;e(s(t))}}}))(k),_=(s(299),s(96)),y=s(98),F=s(42),w=s(296),C=s.n(w),D=function(e){var t=Object(a.useState)(!1),s=Object(y.a)(t,2),o=s[0],n=s[1],r=Object(a.useState)(e.status),i=Object(y.a)(r,2),c=i[0],u=i[1];Object(a.useEffect)((function(){u(e.status)}),[e.status]);return Object(v.jsxs)("div",{children:[!o&&Object(v.jsx)("div",{children:Object(v.jsxs)("span",{onDoubleClick:function(){n(!0)},children:[Object(v.jsx)("b",{children:"Status :"}),e.status||"------"]})}),o&&Object(v.jsx)("div",{children:Object(v.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){n(!1),e.updateStatus(c)},value:c})})]})},N=s(129),A=s(138),J=Object(p.a)({form:"profileInfoData"})((function(e){var t=e.profile,s=Object(_.a)(e,["profile"]);return Object(v.jsxs)(A.a,{onSubmit:s.handleSubmit,children:[Object(v.jsx)("button",{children:"Save"}),s.error&&Object(v.jsx)("div",{children:s.error}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Full Name: "}),Object(v.jsx)(d.a,{placeholder:"Full Name",name:"fullName",component:b.a})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"About me: "}),Object(v.jsx)(d.a,{placeholder:"About Me",name:"aboutMe",component:b.a})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Looking for a job description: "}),Object(v.jsx)(d.a,{placeholder:"lookingForAJobDescription",name:"lookingForAJobDescription",component:b.a})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"lookingForAJob :"}),Object(v.jsx)(d.a,{name:"lookingForAJob",type:"Checkbox",component:b.a})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Contacts :"}),Object(v.jsx)("div",{children:Object.keys(t.contacts).map((function(e){return Object(v.jsxs)("div",{className:C.a.contactsItem,children:[Object(v.jsxs)("b",{children:[e,":"]}),Object(v.jsx)(d.a,{placeholder:"http://",name:"contacts."+e,component:b.a,value:t.contacts[e]})]})}))})]})]})})),M=function(e){var t=e.profile,s=Object(_.a)(e,["profile"]);return Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:s.SetEditMode,children:"Edit"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Full Name: "}),t.fullName]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"About me: "}),t.aboutMe]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Looking for a job description: "}),t.lookingForAJobDescription]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"lookingForAJob :"}),t.lookingForAJob?"yes":"no"]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Contacts :"}),Object(v.jsx)("div",{children:Object.keys(t.contacts).map((function(e){return Object(v.jsxs)("div",{className:C.a.contactsItem,children:[Object(v.jsxs)("b",{children:[e,":"]}),t.contacts[e]]})}))})]})]})},E=function(e){var t=Object(a.useState)(!1),s=Object(y.a)(t,2),o=s[0],n=s[1];return e.profile?Object(v.jsxs)("di",{children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{className:C.a.headerImg,src:"https://st.depositphotos.com/1006076/3995/i/600/depositphotos_39951147-stock-photo-spring-landscape-watercolor-flowering-trees.jpg"})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("img",{src:e.profile.photos.large||N.a,className:C.a.avatar}),e.isOwner&&Object(v.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.uploadPhotoProfile(t.target.files[0])}}),o?Object(v.jsx)(J,{profile:e.profile,onSubmit:function(t){console.log(t),e.saveProfile(t,e.userId).then((function(){n(!1)}))},initialValues:e.profile}):Object(v.jsx)(M,{profile:e.profile,SetEditMode:function(){return n(!0)}}),Object(v.jsx)(D,{status:e.status,getStatus:e.getStatus,updateStatus:e.updateStatus})]})]}):Object(v.jsx)(F.a,{})},T=function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)(E,{userId:e.userId,isOwner:e.isOwner,profile:e.profile,status:e.status,getSatus:e.getStatus,updateStatus:e.updateStatus,uploadPhotoProfile:e.uploadPhotoProfile,saveProfile:e.saveProfile}),Object(v.jsx)(I,{})]})},U=s(7),L=s(97),R=s(11),V=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)(T,Object(o.a)(Object(o.a)({},this.props),{},{userId:this.props.userId,isOwner:!this.props.match.params.userId,profile:this.props.profile,getStatus:this.props.getStatus,updateStatus:this.props.updateStatus,uploadPhotoProfile:this.props.uploadPhotoProfile}))}}]),s}(u.a.Component);t.default=Object(R.d)(Object(l.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.userId}}),{setUserProfile:j.g,getUserProfile:j.d,getStatus:j.c,updateStatus:j.h,uploadPhotoProfile:j.i,saveProfile:j.f}),U.f,L.a)(V)}}]);
//# sourceMappingURL=3.91155331.chunk.js.map